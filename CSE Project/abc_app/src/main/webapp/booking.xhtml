<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Customer Booking</title>
    <link rel="stylesheet" href="resources/CSS/booking.css"/>
    <link rel="icon" href="resources/images/fevicon.ico" type="image/x-icon"/>
</h:head>
<body>
    <h:form>
    <h:messages globalOnly="true" style="color: red;" />
        <div class="top-buttons">
            <a href="customer.xhtml" class="button">Home</a> 
        </div>

        <div class="page-title">
            <h1>Book Your Parking Space</h1>
        </div>

        <div class="section-box">
            <h2>Parking Space Map for Reference</h2>
            <div class="map-container">
                <img src="resources/images/map.jpg" alt="Map" class="map"/>
            </div>
        </div>
        
        

        <div class="section-box">
            <h2>Choose your Parking Space</h2>
            <div class="form-group">
                <label>Parking Space:</label>
                <p:selectOneMenu id="ParkingSpace" 
                				 value="#{bookingBean.selectedID}"
                				 required = "true">
                    <f:selectItems value="#{bookingBean.filteredSpaces}" 
                        var="space" 
                        itemValue="#{space.id}" 
                        itemLabel="#{space.id}"/>
                </p:selectOneMenu>
            </div>
            <div class="form-group accessible-parking">
                <h:selectBooleanCheckbox value="#{bookingBean.useAccessibleSpace}">
                    <f:ajax render="ParkingSpace"/>
                </h:selectBooleanCheckbox>
                <label>Accessible Parking</label>
            </div>
        </div>

        <div class="section-box">
            <h2>Arrival and Departure Dates</h2>
            <div class="form-group">
                <label>Arrival Date:</label>
                <p:calendar value="#{bookingBean.startDate}"
                    required="true"
                    requiredMessage="Start date required"/><br/>
            </div>
            <div class="form-group">
                <label>Departure Date:</label>
                <p:calendar value="#{bookingBean.endDate}"
                    required="true"
                    requiredMessage="End date required"/><br/>
            </div>
        </div>

        <div class="section-box">
            <h2>Choose Payment Method</h2>
            
            <div class="payment-options">
                 <h:selectOneRadio value="#{bookingBean.paymentMethod}" layout="pageDirection">
                      <f:selectItem itemValue="cash" itemLabel="Cash"/>
                      <f:selectItem itemValue="paypal" itemLabel="PayPal"/>
                 </h:selectOneRadio>
            </div>

            
        </div>

        <div class="confirm-box">
            <p:commandButton action="#{bookingBean.register}"
                value="Confirm Booking and Pay" 
                styleClass="confirm-button" 
                ajax="false"/>
        </div>
    </h:form> 
</body>
</html>
